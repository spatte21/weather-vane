<!DOCTYPE html>
<html lang="en" ng-app="app">
    <head>
        <title>Weather Vane</title>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/site.css"/>

        <script src="bower_components/angular/angular.js"></script>
        <script src="bower_components/angular-resource/angular-resource.js"></script>
        <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
        <script src="bower_components/moment/moment.js"></script>
        <script src="js/app.js"></script>
        <script src="js/coralReefServices.js"></script>
    </head>

    <body>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div ui-view></div>
                </div>
            </div>
        </div>

         <script type="text/ng-template" id="home.html">
             <h1>Release Candidates</h1>
             <div>
                 <p>Updated at {{ now.format('HH:mm:ss')}}</p>
                 <button type="button" class="btn btn-sm btn-warning" ng-click="stopRefresh()">Stop Automatic Refresh</button>
                 <button type="button" class="btn btn-sm btn-primary" ui-sref="display">Display</button>
             </div>
             <br>
             <table class="table">
                <thead>
                    <th>Build</th>
                    <th>Branch</th>
                    <th>Published</th>
                    <th>Status</th>
                    <th>Results</th>
                </thead>
                <tbody>
                    <tr ng-repeat="candidate in candidates | orderBy: '-buildDate'">
                        <td>{{ candidate.buildId }}</td>
                        <td>{{ candidate.branch }}</td>
                        <td>{{ published(candidate.buildDate) }}</td>
                        <td>{{ candidate.status }}</td>
                        <td>{{ testResults(candidate.testing) }}</td>
                    </tr>
                </tbody>

             </table>
         </script>

         <script type="text/ng-template" id="display.html">
            <div class="container-fluid sunny-intervals">
                <div class="row bottom-margin">
                    <div class="col-md-12">
                        <h1>develop branch</h1>
                    </div>
                </div>
                <div class="row text-center">
                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-md-12">
                                <h2>5.1.4330</h2>
                                <h5>45 mins ago</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <img src="http://localhost/weather-vane/img/PNGs_256x256/wsymbol_0001_sunny.png"/>
                            </div>
                        </div>
                        <div class="row results-latest">
                            <div class="col-md-12">
                                <h3>0 fails</h3>
                                <h4>324 tests</h4>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-8 top-margin">
                        <div class="row text-center">
                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>5.1.4325</h4>
                                        <h6>3 hours ago</h6>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <img src="http://localhost/weather-vane/img/PNGs_128x128/wsymbol_0001_sunny.png"/>
                                    </div>
                                </div>
                                <div class="row results-previous">
                                    <div class="col-md-12">
                                        <h4>0 fails</h4>
                                        <h5>324 tests</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>5.1.4322</h4>
                                        <h6>4 hours ago</h6>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <img src="http://localhost/weather-vane/img/PNGs_128x128/wsymbol_0002_sunny_intervals.png"/>
                                    </div>
                                </div>
                                <div class="row results-previous">
                                    <div class="col-md-12">
                                        <h4>2 fails</h4>
                                        <h5>324 tests</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>5.1.4318</h4>
                                        <h6>17 hours ago</h6>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <img src="http://localhost/weather-vane/img/PNGs_128x128/wsymbol_0009_light_rain_showers.png"/>
                                    </div>
                                </div>
                                <div class="row results-previous">
                                    <div class="col-md-12">
                                        <h4>8 fails</h4>
                                        <h5>324 tests</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>5.1.4305</h4>
                                        <h6>1 day ago</h6>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <img src="http://localhost/weather-vane/img/PNGs_128x128/wsymbol_0024_thunderstorms.png"/>
                                    </div>
                                </div>
                                <div class="row results-previous">
                                    <div class="col-md-12">
                                        <h4>324 fails</h4>
                                        <h5>324 tests</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
         </script>

    </body>

</html>
